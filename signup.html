<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' https: data:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https:; script-src 'self' 'unsafe-inline';">
    <title>Sign up - Instagram</title>
    <link rel="stylesheet" href="signup.css">
    <script>
        (function() {
            let raw = localStorage.getItem('threads_theme');
            let savedTheme = 'auto';
            if (raw) savedTheme = JSON.parse(raw);
            if (savedTheme == 'light') {
                document.documentElement.setAttribute('data-theme', 'light');
            } else if (savedTheme == 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
            } else {
                if (!window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    document.documentElement.setAttribute('data-theme', 'light');
                } else {
                    document.documentElement.setAttribute('data-theme', 'dark');
                }
            }
        })();
    </script>
</head>
<body>
    <div class="su-page">
        <!-- Back Arrow -->
        <div class="su-back">
            <a href="instagram-login.html" class="su-back-link">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15 18 9 12 15 6"/>
                </svg>
            </a>
        </div>

        <!-- Main Content -->
        <main class="su-main">
            <!-- Meta Logo -->
            <div class="su-meta">
                <svg aria-label="Meta logo" class="su-meta-logo" role="img" viewBox="0 0 500 100"><defs><linearGradient gradientUnits="userSpaceOnUse" id="suMetaGrad1" x1="124.38" x2="160.839" y1="99" y2="59.326"><stop offset=".427" stop-color="#0278F1"></stop><stop offset=".917" stop-color="#0180FA"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="suMetaGrad2" x1="42" x2="-1.666" y1="4.936" y2="61.707"><stop offset=".427" stop-color="#0165E0"></stop><stop offset=".917" stop-color="#0180FA"></stop></linearGradient><linearGradient gradientUnits="userSpaceOnUse" id="suMetaGrad3" x1="27.677" x2="132.943" y1="28.71" y2="71.118"><stop stop-color="#0064E0"></stop><stop offset=".656" stop-color="#0066E2"></stop><stop offset="1" stop-color="#0278F1"></stop></linearGradient></defs><path d="M185.508 3.01h18.704l31.803 57.313L267.818 3.01h18.297v94.175h-15.264v-72.18l-27.88 49.977h-14.319l-27.88-49.978v72.18h-15.264V3.01ZM336.281 98.87c-7.066 0-13.286-1.565-18.638-4.674-5.352-3.12-9.527-7.434-12.528-12.952-2.989-5.517-4.483-11.835-4.483-18.973 0-7.214 1.461-13.608 4.385-19.17 2.923-5.561 6.989-9.908 12.187-13.05 5.198-3.13 11.176-4.707 17.923-4.707 6.715 0 12.484 1.587 17.319 4.74 4.847 3.164 8.572 7.598 11.177 13.291 2.615 5.693 3.923 12.371 3.923 20.046v4.171h-51.793c.945 5.737 3.275 10.258 6.989 13.554 3.715 3.295 8.407 4.937 14.078 4.937 4.549 0 8.461-.667 11.747-2.014 3.286-1.347 6.374-3.383 9.253-6.12l8.099 9.886c-8.055 7.357-17.934 11.036-29.638 11.036Zm11.143-55.867c-3.198-3.252-7.385-4.872-12.56-4.872-5.045 0-9.264 1.653-12.66 4.97-3.407 3.318-5.55 7.784-6.451 13.39h37.133c-.451-5.737-2.275-10.237-5.462-13.488ZM386.513 39.467h-14.044V27.03h14.044V6.447h14.715V27.03h21.341v12.437h-21.341v31.552c0 5.244.901 8.988 2.703 11.233 1.803 2.244 4.88 3.36 9.253 3.36 1.935 0 3.572-.076 4.924-.23a97.992 97.992 0 0 0 4.461-.645v12.316c-1.67.493-3.549.898-5.637 1.205-2.099.317-4.286.47-6.583.47-15.89 0-23.836-8.649-23.836-25.957V39.467ZM500 97.185h-14.44v-9.82c-2.571 3.678-5.835 6.513-9.791 8.506-3.968 1.993-8.462 3-13.506 3-6.209 0-11.715-1.588-16.506-4.752-4.803-3.153-8.572-7.51-11.308-13.039-2.748-5.54-4.121-11.879-4.121-19.006 0-7.17 1.395-13.52 4.187-19.038 2.791-5.518 6.648-9.843 11.571-12.985 4.935-3.13 10.594-4.707 16.99-4.707 4.813 0 9.132.93 12.956 2.791a25.708 25.708 0 0 1 9.528 7.905v-9.01H500v70.155Zm-14.715-45.61c-1.571-3.985-4.066-7.138-7.461-9.448-3.396-2.31-7.33-3.46-11.781-3.46-6.308 0-11.319 2.102-15.055 6.317-3.737 4.215-5.605 9.92-5.605 17.09 0 7.215 1.802 12.94 5.396 17.156 3.604 4.215 8.484 6.317 14.66 6.317 4.538 0 8.593-1.16 12.154-3.492 3.549-2.332 6.121-5.475 7.692-9.427V51.575Z" fill="#1C2B33"></path><path d="M107.666 0C95.358 0 86.865 4.504 75.195 19.935 64.14 5.361 55.152 0 42.97 0 18.573 0 0 29.768 0 65.408 0 86.847 12.107 99 28.441 99c15.742 0 25.269-13.2 33.445-27.788l9.663-16.66a643.785 643.785 0 0 1 2.853-4.869 746.668 746.668 0 0 1 3.202 5.416l9.663 16.454C99.672 92.72 108.126 99 122.45 99c16.448 0 27.617-13.723 27.617-33.25 0-37.552-19.168-65.75-42.4-65.75ZM57.774 46.496l-9.8 16.25c-9.595 15.976-13.639 19.526-19.67 19.526-6.373 0-11.376-5.325-11.376-17.547 0-24.51 12.062-47.451 26.042-47.451 7.273 0 12.678 3.61 22.062 17.486a547.48 547.48 0 0 0-7.258 11.736Zm64.308 35.776c-6.648 0-11.034-4.233-20.012-19.39l-9.663-16.386c-2.79-4.737-5.402-9.04-7.88-12.945 9.73-14.24 15.591-17.984 23.002-17.984 14.118 0 26.204 20.96 26.204 49.158 0 11.403-4.729 17.547-11.651 17.547Z" fill="#0180FA"></path><path d="M145.631 36h-16.759c3.045 7.956 4.861 17.797 4.861 28.725 0 11.403-4.729 17.547-11.651 17.547H122v16.726l.449.002c16.448 0 27.617-13.723 27.617-33.25 0-10.85-1.6-20.917-4.435-29.75Z" fill="url(#suMetaGrad1)"></path><path d="M42 .016C18.63.776.832 28.908.028 63h16.92C17.483 39.716 28.762 18.315 42 17.31V.017Z" fill="url(#suMetaGrad2)"></path><path d="m75.195 19.935.007-.009c2.447 3.223 5.264 7.229 9.33 13.62l-.005.005c2.478 3.906 5.09 8.208 7.88 12.945l9.663 16.386c8.978 15.157 13.364 19.39 20.012 19.39.31 0 .617-.012.918-.037v16.76c-.183.003-.367.005-.551.005-14.323 0-22.777-6.281-35.182-27.447L77.604 55.1l-.625-1.065L77 54c-2.386-4.175-7.606-12.685-11.973-19.232l.005-.008-.62-.91C63.153 31.983 61.985 30.313 61 29l-.066.024c-7.006-9.172-11.818-11.75-17.964-11.75-.324 0-.648.012-.97.037V.016c.322-.01.646-.016.97-.016 12.182 0 21.17 5.36 32.225 19.935Z" fill="url(#suMetaGrad3)"></path></svg>
            </div>

            <h1 class="su-title">Get started on Instagram</h1>
            <p class="su-subtitle">Sign up to see photos and videos from your friends.</p>

            <form class="su-form" id="suForm" novalidate>
                <!-- Mobile / Email -->
                <div class="su-field">
                    <label class="su-label">Mobile number or email address</label>
                    <div class="su-input-wrapper">
                        <input type="text" class="su-input" id="suEmail" placeholder=" " autocomplet e="email" maxlength="75" aria-label="Mobile number or email address">
                        <label class="su-float-label" for="suEmail">Mobile number or email address</label>
                    </div>
                    <p class="su-field-note">You may receive notifications from us. <a href="#" class="su-link">Learn why we ask for your contact information</a></p>
                </div>

                <!-- Password -->
                <div class="su-field">
                    <label class="su-label">Password</label>
                    <div class="su-input-wrapper">
                        <input type="password" class="su-input su-input-password" id="suPassword" placeholder=" " autocomplet e="new-password" maxlength="128" aria-label="Password">
                        <label class="su-float-label" for="suPassword">Password</label>
                        <button type="button" class="su-show-password" id="suShowPassBtn" style="display:none;">Show</button>
                    </div>
                    <div id="passwordStrength" style="margin-top:6px;font-size:12px;color:#999;"></div>
                </div>

                <!-- Date of birth -->
                <div class="su-field">
                    <label class="su-label">Date of birth
                        <span class="su-info-icon" id="dobInfoIcon">
                            <svg viewBox="0 0 24 24" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M12 22a10 10 0 1 1 10-10 10.011 10.011 0 0 1-10 10zm0-18.5a8.5 8.5 0 1 0 8.5 8.5A8.51 8.51 0 0 0 12 3.5z"></path><circle cx="12" cy="16" r="1"></circle><path d="M12 14a.75.75 0 0 1-.75-.75v-1a.75.75 0 0 1 .75-.75 1.5 1.5 0 1 0-1.5-1.5.75.75 0 0 1-1.5 0 3 3 0 1 1 3.75 2.9v.345A.75.75 0 0 1 12 14z"></path></svg>
                        </span>
                        <div class="su-tooltip" id="dobTooltip">
                            Providing your date of birth improves the features and ads you see and helps to keep the Instagram community safe. You can find your date of birth in your personal information account settings. <a href="#" class="su-link">Learn more about how we use your info in our Privacy Policy.</a>
                        </div>
                    </label>
                    <div class="su-dob-row">
                        <div class="su-select-wrapper">
                            <select class="su-select" id="suDay" aria-label="Day">
                                <option value="">Day</option>
                            </select>
                            <svg class="su-select-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
                        </div>
                        <div class="su-select-wrapper">
                            <select class="su-select" id="suMonth" aria-label="Month">
                                <option value="">Month</option>
                            </select>
                            <svg class="su-select-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
                        </div>
                        <div class="su-select-wrapper">
                            <select class="su-select" id="suYear" aria-label="Year">
                                <option value="">Year</option>
                            </select>
                            <svg class="su-select-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
                        </div>
                    </div>
                </div>

                <!-- Name -->
                <div class="su-field">
                    <label class="su-label">Name</label>
                    <div class="su-input-wrapper">
                        <input type="text" class="su-input" id="suName" placeholder=" " autocomplet e="name" maxlength="150" aria-label="Full name">
                        <label class="su-float-label" for="suName">Full name</label>
                    </div>
                </div>

                <!-- Username -->
                <div class="su-field">
                    <label class="su-label">Username</label>
                    <div class="su-input-wrapper">
                        <input type="text" class="su-input" id="suUsername" placeholder=" " autocomplet e="username" maxlength="30" aria-label="Username">
                        <label class="su-float-label" for="suUsername">Username</label>
                    </div>
                    <div id="usernameError" style="margin-top:6px;font-size:12px;color:#ed4956;"></div>
                </div>

                <!-- Legal text -->
                <div class="su-legal">
                    <p>People who use our service may have uploaded your contact information to Instagram. <a href="#" class="su-link">Learn more</a>.</p>
                    <p>By tapping Submit, you agree to create an account and to Instagram's <a href="#" class="su-link">Terms</a>, <a href="#" class="su-link">Privacy Policy</a> and <a href="#" class="su-link">Cookies Policy</a>.</p>
                    <p>The <a href="#" class="su-link">Privacy Policy</a> describes the ways we can use the information we collect when you create an account. For example, we use this information to provide, personalise and improve our products, including ads.</p>
                </div>

                <!-- Submit -->
                <div id="suFormError" style="font-size:13px;color:#ed4956;text-align:center;margin-bottom:8px;"></div>
                <button type="submit" class="su-submit-btn" id="suSubmitBtn">Submit</button>
            </form>

            <!-- Already have account -->
            <a href="find-account.html" class="su-login-btn">I already have an account</a>
        </main>

        <!-- Footer -->
        <footer class="su-footer">
            <nav class="su-footer-links">
                <a href="#">Meta</a>
                <a href="#">About</a>
                <a href="#">Blog</a>
                <a href="#">Jobs</a>
                <a href="#">Help</a>
                <a href="#">API</a>
                <a href="#">Privacy</a>
                <a href="#">Terms</a>
                <a href="#">Locations</a>
                <a href="#">Instagram Lite</a>
                <a href="#">Contact uploading and non-users</a>
                <a href="#">Meta Verified</a>
            </nav>
            <div class="su-footer-bottom">
                <span class="su-footer-lang">English (UK)
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
                </span>
                <span class="su-footer-copyright">&copy; 2026 Instagram from Meta</span>
            </div>
        </footer>
    </div>

    <script>
        // load saved theme
        let raw = localStorage.getItem('threads_theme');
        let savedTheme = 'auto';
        if (raw) {
            savedTheme = JSON.parse(raw);
        }
        if (savedTheme == 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
        } else if (savedTheme == 'light') {
            document.documentElement.setAttribute('data-theme', 'light');
        } else {
            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.setAttribute('data-theme', 'dark');
            } else {
                document.documentElement.setAttribute('data-theme', 'light');
            }
        }
    </script>
    <script src="security.js"></script>
    <script>
            let emailInput = document.getElementById('suEmail');
            let passwordInput = document.getElementById('suPassword');
            let nameInput = document.getElementById('suName');
            let usernameInput = document.getElementById('suUsername');
            let daySelect = document.getElementById('suDay');
            let monthSelect = document.getElementById('suMonth');
            let yearSelect = document.getElementById('suYear');
            let submitBtn = document.getElementById('suSubmitBtn');
            let showPassBtn = document.getElementById('suShowPassBtn');
            let form = document.getElementById('suForm');
            let passwordStrengthEl = document.getElementById('passwordStrength');
            let usernameErrorEl = document.getElementById('usernameError');
            let formErrorEl = document.getElementById('suFormError');

            // populate day options
            for (let d = 1; d <= 31; d++) {
                let opt = document.createElement('option');
                opt.value = d;
                opt.textContent = d;
                daySelect.appendChild(opt);
            }

            // populate month options
            let months = ['January','February','March','April','May','June','July','August','September','October','November','December'];
            for (let m = 0; m < months.length; m++) {
                let opt = document.createElement('option');
                opt.value = m + 1;
                opt.textContent = months[m];
                monthSelect.appendChild(opt);
            }

            // populate year options
            let currentYear = new Date().getFullYear();
            for (let y = currentYear; y >= 1900; y--) {
                let opt = document.createElement('option');
                opt.value = y;
                opt.textContent = y;
                yearSelect.appendChild(opt);
            }

            // password strength
            function checkPasswordStrength(password) {
                if (password == null || password == '') {
                    return { score: 0, text: '', color: '' };
                }
                let score = 0;
                if (password.length >= 6) score++;
                if (password.length >= 8) score++;
                if (/[a-z]/.test(password) && /[A-Z]/.test(password)) score++;
                if (/\d/.test(password)) score++;
                if (/[^a-zA-Z0-9]/.test(password)) score++;

                if (score <= 1) {
                    return { score: score, text: 'Weak - use at least 6 characters with letters and numbers', color: '#ed4956' };
                }
                if (score <= 2) {
                    return { score: score, text: 'Fair - try adding numbers or special characters', color: '#f5a623' };
                }
                if (score <= 3) {
                    return { score: score, text: 'Good', color: '#5b9bd5' };
                }
                return { score: score, text: 'Strong', color: '#58c322' };
            }

            // check email
            function checkEmail(val) {
                if (val == null || val == '') {
                    return 'Email or mobile number is required.';
                }
                // if has @ then check email format
                if (val.indexOf('@') != -1) {
                    let emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailPattern.test(val)) {
                        return 'Please enter a valid email address.';
                    }
                    // check domain tld
                    let parts = val.split('@');
                    let domain = parts[1];
                    if (domain == null || domain == '' || domain.split('.').pop().length < 2) {
                        return 'Please enter a valid email address.';
                    }
                }
                return '';
            }

            // check username
            function checkUsernameField(val) {
                if (val == null || val == '') {
                    return '';
                }
                let pattern = /^[a-zA-Z0-9._]+$/;
                if (!pattern.test(val)) {
                    return 'Username can only contain letters, numbers, dots, and underscores.';
                }
                if (val.length < 1) {
                    return 'Username is required.';
                }
                if (val.length > 30) {
                    return 'Username must be 30 characters or fewer.';
                }
                return '';
            }

            // check age - must be 13+
            function checkAge(day, month, year) {
                if (day == null || day == '' || month == null || month == '' || year == null || year == '') {
                    return 'Please select your date of birth.';
                }
                let dob = new Date(year, month - 1, day);
                let today = new Date();
                let age = today.getFullYear() - dob.getFullYear();
                let monthDiff = today.getMonth() - dob.getMonth();
                if (monthDiff < 0 || (monthDiff == 0 && today.getDate() < dob.getDate())) {
                    age--;
                }
                if (age < 13) {
                    return 'You must be at least 13 years old to sign up.';
                }
                return '';
            }

            // show/hide password
            function updateShowPassBtn() {
                if (passwordInput.value.length > 0) {
                    showPassBtn.style.display = 'block';
                } else {
                    showPassBtn.style.display = 'none';
                }
            }

            showPassBtn.addEventListener('click', function() {
                if (passwordInput.type == 'password') {
                    passwordInput.type = 'text';
                    showPassBtn.textContent = 'Hide';
                } else {
                    passwordInput.type = 'password';
                    showPassBtn.textContent = 'Show';
                }
                passwordInput.focus();
            });

            passwordInput.addEventListener('input', function() {
                updateShowPassBtn();
                // show strength
                let strength = checkPasswordStrength(passwordInput.value);
                if (passwordInput.value.length > 0) {
                    passwordStrengthEl.textContent = strength.text;
                    passwordStrengthEl.style.color = strength.color;
                } else {
                    passwordStrengthEl.textContent = '';
                }
            });

            // username check on input
            usernameInput.addEventListener('input', function() {
                let err = checkUsernameField(usernameInput.value.trim());
                usernameErrorEl.textContent = err;
            });

            // DOB info tooltip
            let dobInfoIcon = document.getElementById('dobInfoIcon');
            let dobTooltip = document.getElementById('dobTooltip');

            dobInfoIcon.addEventListener('click', function(e) {
                e.stopPropagation();
                dobTooltip.classList.toggle('active');
            });

            document.addEventListener('click', function(e) {
                if (dobTooltip.contains(e.target) == false && dobInfoIcon.contains(e.target) == false) {
                    dobTooltip.classList.remove('active');
                }
            });

            // form submit
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                formErrorEl.textContent = '';

                let email = sanitize(emailInput.value.trim());
                let password = passwordInput.value;
                let name = sanitize(nameInput.value.trim());
                let username = sanitize(usernameInput.value.trim());
                let day = daySelect.value;
                let month = monthSelect.value;
                let year = yearSelect.value;

                // check email
                let emailErr = checkEmail(email);
                if (emailErr) {
                    formErrorEl.textContent = emailErr;
                    emailInput.focus();
                    return;
                }

                // check password - min 6 chars, needs letters and numbers
                if (password.length < 6) {
                    formErrorEl.textContent = 'Password must be at least 6 characters.';
                    passwordInput.focus();
                    return;
                }
                if (!/[a-zA-Z]/.test(password) || !/\d/.test(password)) {
                    formErrorEl.textContent = 'Password must contain both letters and numbers.';
                    passwordInput.focus();
                    return;
                }

                // check dob
                if (day == null || day == '' || month == null || month == '' || year == null || year == '') {
                    formErrorEl.textContent = 'Please select your date of birth.';
                    return;
                }

                // check age
                let ageErr = checkAge(day, month, year);
                if (ageErr) {
                    formErrorEl.textContent = ageErr;
                    return;
                }

                // check name
                if (name == null || name == '') {
                    formErrorEl.textContent = 'Name is required.';
                    nameInput.focus();
                    return;
                }

                // check username
                if (username == null || username == '') {
                    formErrorEl.textContent = 'Username is required.';
                    usernameInput.focus();
                    return;
                }
                let usernameErr = checkUsernameField(username);
                if (usernameErr) {
                    formErrorEl.textContent = usernameErr;
                    usernameInput.focus();
                    return;
                }

                // loading
                submitBtn.textContent = 'Submitting...';
                submitBtn.disabled = true;

                setTimeout(function() {
                    let user = {
                        id: Math.floor(Math.random() * 90000) + 10000,
                        username: username,
                        name: name,
                        avatar: 'images/avatar' + (Math.floor(Math.random() * 5) + 1) + '.jpg'
                    };
                    localStorage.setItem('threads_user', JSON.stringify(user));
                    localStorage.setItem('threads_is_logged_in', 'true');
                    window.location.href = 'home.html';
                }, 1500);
            });
    </script>
</body>
</html>
